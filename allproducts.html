<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>All Products - Crafix</title>
  <link rel="icon" href="crafixlogo.png" type="image/png" />
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
  <style>
    body.product-category-body {
      font-family: 'Nunito', sans-serif;
      padding: 2rem;
      background-color: #FAD0C9;
      color: #333;
    }
    h1 {
      color: #e91e63;
      margin-bottom: 1rem;
      text-align: center;
    }
    .search-bar {
      max-width: 600px;
      margin: 0 auto 2rem auto;
      display: flex;
      border: 1px solid #ddd;
      border-radius: 4px;
      overflow: hidden;
      background: white;
    }
    .search-bar input {
      flex-grow: 1;
      border: none;
      padding: 10px 15px;
      font-size: 1rem;
      outline: none;
    }
    .search-bar button {
      background-color: #e91e63;
      border: none;
      color: white;
      padding: 0 20px;
      cursor: pointer;
      font-weight: 600;
      transition: background-color 0.3s ease;
    }
    .search-bar button:hover {
      background-color: #d5006e;
    }
    .product-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 1.5rem;
      justify-items: center;
    }
    .product-card {
      background: white;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      width: 100%;
      max-width: 250px;
      display: flex;
      flex-direction: column;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      cursor: pointer;
    }
    .product-card:hover {
      transform: translateY(-10px) scale(1.03);
      box-shadow: 0 12px 24px rgba(0, 0, 0, 0.2);
    }
    .product-card img {
      width: 100%;
      height: 180px;
      object-fit: cover;
      border-top-left-radius: 10px;
      border-top-right-radius: 10px;
      transition: transform 0.3s ease;
    }
    .product-card:hover img {
      transform: scale(1.1);
    }
    .product-info {
      padding: 10px;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    .product-title {
      font-weight: 700;
      font-size: 1.2rem;
      margin-bottom: 0.5rem;
      color: #333;
    }
    .product-desc {
      font-size: 0.95rem;
      color: #666;
      margin-bottom: 1rem;
      flex-grow: 1;
    }
    .product-price {
      font-size: 1.1rem;
      font-weight: 600;
      color: #e91e63;
      margin-bottom: 1rem;
    }
    .offer-badge {
      background-color: #4CAF50;
      color: white;
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 0.8rem;
      font-weight: 700;
      margin-bottom: 6px;
      display: inline-block;
      text-align: left;
      width: auto;
    }
    .discounted-price {
      font-weight: 700;
      margin-bottom: 4px;
    }
    .mrp {
      color: #999;
      text-decoration: line-through;
      font-size: 0.9rem;
    }
    .btn {
      background-color: #e91e63;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 50px;
      font-weight: 600;
      cursor: pointer;
      transition: background-color 0.3s ease;
      text-decoration: none;
      text-align: center;
      display: inline-block;
      margin-bottom: 10px;
    }
    .btn:hover {
      background-color: #d5006e;
    }
    .back-btn {
      background-color: #e91e63;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 4px;
      font-weight: 700;
      cursor: pointer;
      transition: background-color 0.3s ease;
      text-align: center;
      display: block;
      margin: 2rem auto 0 auto;
      max-width: 200px;
      text-decoration: none;
    }
    .back-btn:hover {
      background-color: #d5006e;
    }
  </style>
</head>
<body class="product-category-body">
  <h1>All Products</h1>
  <div class="search-bar">
      <input type="text" id="search-input" placeholder="Search for products" />
    <button id="search-button">Search</button>
  </div>
  <div class="product-grid" id="product-grid">
    <!-- Product cards will be rendered here -->
  </div>
  <button class="back-btn" onclick="window.location.href='choose.html'">⬅ Back to Choose</button>

  <script>
    const allProducts = [
      { img: "polaroid5.jpg", title: "Mini Polaroids", desc: "Compact size for portability", mrp: 100, discountedPrice: 30, unitCount: 4 },
      { img: "polaroid1.jpg", title: "Regular Size Polaroids", desc: "Classic instant photo style", mrp: 80, discountedPrice: 20, unitCount: 2 },
      { img: "frame1.jpg", title: "Classic Wooden Frame", desc: "Elegant wooden frame for your photos", mrp: 599, discountedPrice: 499 },
      { img: "frame2.jpg", title: "Modern Metal Frame", desc: "Sleek metal frame with glass", mrp: 699, discountedPrice: 599 },
      { img: "frame3.jpg", title: "Vintage Frame", desc: "Antique style frame with intricate design", mrp: 799, discountedPrice: 699 },
      { img: "frame4.jpg", title: "Collage Frame", desc: "Multi-photo collage frame", mrp: 899, discountedPrice: 799 },
      { img: "frame5.jpg", title: "Digital Frame", desc: "Electronic frame with slideshow", mrp: 1099, discountedPrice: 999 },
      { img: "beads1.jpg", title: "Classic Beads Bracelet", desc: "Elegant and timeless design", mrp: 249, discountedPrice: 199 },
      { img: "beads2.jpg", title: "Charm Beads Bracelet", desc: "With customizable charms", mrp: 299, discountedPrice: 249 },
      { img: "beads3.jpg", title: "Leather Beads Bracelet", desc: "Stylish leather and beads combo", mrp: 349, discountedPrice: 299 },
      { img: "beads4.jpg", title: "Colorful Beads Bracelet", desc: "Vibrant colors for every style", mrp: 229, discountedPrice: 179 },
      { img: "beads5.jpg", title: "Minimalist Beads Bracelet", desc: "Simple and elegant", mrp: 199, discountedPrice: 159 },
      { img: "earring1.jpg", title: "Stud Earrings", desc: "Simple and elegant studs", mrp: 349, discountedPrice: 299 },
      { img: "earring2.jpg", title: "Hoop Earrings", desc: "Classic hoop design", mrp: 449, discountedPrice: 399 },
      { img: "earring3.jpg", title: "Drop Earrings", desc: "Stylish drop earrings", mrp: 399, discountedPrice: 349 },
      { img: "earring4.jpg", title: "Chandelier Earrings", desc: "Elegant chandelier style", mrp: 549, discountedPrice: 499 },
      { img: "earring5.jpg", title: "Pearl Earrings", desc: "Classic pearl studs", mrp: 449, discountedPrice: 399 },
      { img: "necklace1.jpg", title: "Gold Plated Necklace", desc: "Elegant gold plated design", mrp: 899, discountedPrice: 799 },
      { img: "necklace2.jpg", title: "Silver Necklace", desc: "Classic silver chain", mrp: 799, discountedPrice: 699 },
      { img: "necklace3.jpg", title: "Pearl Necklace", desc: "Beautiful pearl beads", mrp: 999, discountedPrice: 899 },
      { img: "necklace4.jpg", title: "Diamond Necklace", desc: "Sparkling diamond pendant", mrp: 1499, discountedPrice: 1299 },
      { img: "necklace5.jpg", title: "Beaded Necklace", desc: "Colorful beads for casual wear", mrp: 599, discountedPrice: 499 },
      { img: "8bcb91b2-c540-4ede-8c55-f25161e2acec.c09d27ca2a17f49133f4f082273dcb2f.webp", title: "24K Gold Rose", desc: "A beautiful 24K gold-plated rose, perfect as a gift or decoration.", mrp: 1000, discountedPrice: 169 }
    ];

    const productGrid = document.getElementById('product-grid');
    const searchInput = document.getElementById('search-input');
    const searchButton = document.getElementById('search-button');

    function addToCart(product) {
      let cart = JSON.parse(localStorage.getItem('cart')) || [];
      const existingIndex = cart.findIndex(item => item.title === product.title);
      if (existingIndex !== -1) {
        cart[existingIndex].quantity += 1;
      } else {
        cart.push({ ...product, quantity: 1 });
      }
      localStorage.setItem('cart', JSON.stringify(cart));
      alert(product.title + " added to cart");
    }

    function buyNow(product) {
      // Redirect to comingsoon.html instead of cart.html
      window.location.href = 'comingsoon.html';
    }

    function renderProducts(products) {
      productGrid.innerHTML = '';
      products.forEach(product => {
        const offerPercent = Math.round(((product.mrp - product.discountedPrice) / product.mrp) * 100);
        const card = document.createElement('div');
        card.className = 'product-card';
        card.innerHTML = `
          <img src="${product.img}" alt="${product.title}" />
          <div class="product-info">
            <div>
              <div class="product-title">${product.title}</div>
              <div class="product-desc">${product.desc}</div>
        <div class="product-price">
          <span class="offer-badge">${offerPercent}% off</span><br/>
          <div class="discounted-price">₹${product.discountedPrice} ${product.unitCount ? `<span class="unit-price">(₹${(product.discountedPrice / product.unitCount).toFixed(2)}/count)</span>` : ''}</div>
          <div class="mrp"><span class="cut-price">₹${product.mrp}</span></div>
        </div>
            </div>
            <button class="btn" onclick='buyNow(${JSON.stringify(product).replace(/'/g, "\\'")})'>Buy Now</button>
          </div>
        `;
        productGrid.appendChild(card);
      });
    }

    function filterProducts() {
      const query = searchInput.value.toLowerCase();
      const filtered = allProducts.filter(p =>
        p.title.toLowerCase().includes(query) || p.desc.toLowerCase().includes(query)
      );
      renderProducts(filtered);
    }

    searchButton.addEventListener('click', filterProducts);
    searchInput.addEventListener('keyup', event => {
      if (event.key === 'Enter') {
        filterProducts();
      }
    });

    document.addEventListener('DOMContentLoaded', () => {
      renderProducts(allProducts);
    });
  </script>
</body>
</html>
